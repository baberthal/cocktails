angular.module("cocktails", [
  'ngMaterial',
  'rails',
  'ui.router',
  'controllers',
  'services'
])

.config([
  '$httpProvider',
  '$stateProvider',
  '$urlRouterProvider',
  '$mdIconProvider',
  ($httpProvider, $stateProvider, $urlRouterProvider, $mdIconProvider) ->
    $httpProvider.defaults.headers.common['X-CSRF-Token'] = $('meta[name=csrf-token]').attr('content')

    $urlRouterProvider.otherwise('/')

    $stateProvider
      .state('home',
        url: '/'
        templateUrl: '/templates/index.html'
        controller: "CocktailsCtrl"
      )

    $mdIconProvider.defaultFontSet("material-icons")
                   .iconSet('avatars', "<%= asset_url('avatars.svg') %>")
])

controllers = angular.module('controllers', [])
services = angular.module('services', [])
